<!-- stock-movements-component.component.html -->
<div class="stock-movements-container">
  <h1>DeyiÅŸiklik YapÄ±lan Stok Hareketleri</h1>

  <!-- Stok hareket tablosu -->
  <table *ngIf="stockMovements && stockMovements.length > 0; else noDataTemplate">
    <thead>
      <tr>
        <th>ÃœrÃ¼n ID</th>
        <th>Miktar</th>
        <th>TÃ¼r</th>
        <th>AÃ§Ä±klama</th>
        <th>Tarih</th>
        <th>Ä°ÅŸlemler</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let stockMovement of stockMovements">
        <td>{{ stockMovement.productId }}</td>
        <td>{{ stockMovement.quantity }}</td>
        <td>{{ stockMovement.type }}</td>
        <td>{{ stockMovement.description }}</td>
        <td>{{ stockMovement.date | date: 'dd/MM/yyyy' }}</td>
        <td> <!-- DÃ¼zenleme kaldÄ±rÄ±lmÄ±ÅŸsa boÅŸ kalabilir --></td>
      </tr>
    </tbody>
  </table>

  <!-- Veri yoksa -->
  <ng-template #noDataTemplate>
    <p>HenÃ¼z stok hareketi bulunmamaktadÄ±r.</p>
  </ng-template>

  <!-- Stok GÃ¼ncelleme Formu -->
  <div *ngIf="selectedStockMovement.ProductId !== null" id="stokForm" class="stok-form">
    <h2 class="stok-baslik">
      <i class="fa fa-edit"></i> Stok Hareketini DÃ¼zenle
    </h2>
    
    <p class="urun-bilgisi">
      ðŸ›’ <strong>{{ selectedStockMovement.ProductName }}</strong>
      <span style="color: #888">(ID: {{ selectedStockMovement.ProductId }})</span>
    </p>

    <form (ngSubmit)="updateStockMovement()" class="form-alani">
      <div class="form-row">
        <label>Miktar:</label>
        <input type="number" [(ngModel)]="selectedStockMovement.Quantity" name="quantity" required />
      </div>

      <div class="form-row">
        <label>AÃ§Ä±klama:</label>
        <input type="text" [(ngModel)]="selectedStockMovement.Description" name="description" />
      </div>

      <div class="form-row">
        <label>Tarih:</label>
        <input type="text" [(ngModel)]="selectedStockMovement.Date" name="date" readonly />
      </div>

      <button type="submit" class="btn-guncelle">GÃ¼ncelle</button>
    </form>
  </div>

  <!-- ÃœrÃ¼n Listesi -->
  <h1>ÃœRÃœNLER</h1>
  <table class="urun-tablosu">
    <thead>
      <tr>
        <th>ID</th>
        <th>Ad</th>
        <th>AÃ§Ä±klama</th>
        <th>Fiyat</th>
        <th>Stok</th>
        <th>OluÅŸturulma Tarihi</th>
        <th>Kategori ID</th>
        <th>Ä°ÅŸlem</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.id }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.description }}</td>
        <td>{{ product.price | currency }}</td>
        <td>{{ product.stock }}</td>
        <td>{{ product.createdDate | date: 'dd/MM/yyyy' }}</td>
        <td>{{ product.categoryId }}</td>
        <td>
          <button class="btn-duzenle" (click)="selectProductForStockUpdate(product)">
            Stok MiktarÄ±nÄ± DÃ¼zenle
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
